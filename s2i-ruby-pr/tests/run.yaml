apiVersion: tekton.dev/v1beta1
kind: PipelineRun
metadata:
  generateName: s2i-ruby-pr-run-
spec:
  pipelineSpec:
    resources:
    - name: source
      type: git
    - name: image
      type: image
    tasks:
    - name: run-s2i
      taskRef:
        name: s2i-ruby-pr
        kind: ClusterTask
      resources:
        inputs:
        - name: source
          resource: source
        outputs:
        - name: image
          resource: image
      params:
      - name: TLSVERIFY
        value: "false"
      - name: VERSION
        value: "2.7-ubi8"
  resources:
  - name: source
    resourceRef:
      name: s2i-ruby-ex
  - name: image
    resourceRef:
      name: s2i-ruby-image
  timeout: 10m
